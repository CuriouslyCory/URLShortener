/*
  2015-09-30 
*/
!function(){angular.module("urlShortener",["ngRoute"])}(),function(){function a(a){function b(){return c().then(function(){})}function c(){return a.getURLs().then(function(a){return e.urls=a,e.urls})}function d(){a.getShortURL(e.currentURL).then(function(a){var b={longURL:a.longURL,shortURL:a.shortURL};e.urls.push(b)})}var e=this;e.urls=[],e.currentURL="",e.getShortURL=d,e.getURLs=c,b()}angular.module("urlShortener").controller("MainController",a),a.$inject=["UrlService"]}(),function(){function a(a,b){a.when("/index",{controller:"MainController",templateUrl:"/partials/main-view.html",controllerAs:"vm"}).when("/r/:urlKey",{controller:"RedirectController",templateUrl:"/partials/blank.html",controllerAs:"vm"}).otherwise({redirectTo:"/index"}),b.html5Mode(!0)}angular.module("urlShortener").config(a),a.$inject=["$routeProvider","$locationProvider"]}(),function(){function a(a){function b(){function b(a){return a.data}function c(a){console.log("XHR Failed for getURLs")}return a.get(e.apiPath).then(b)["catch"](c)}function c(b){function c(a){return a.data}function d(a){console.log("XHR Failed for getShortURL")}return a.post(e.apiPath+"",{url:b}).then(c)["catch"](d)}function d(b){function c(a){return a.data}function d(a){console.log("XHR Failed for getShortURL")}return a.get(e.apiPath+"/"+b).then(c)["catch"](d)}var e={getURLs:b,getShortURL:c,getLongURL:d,apiPath:"http://"+window.location.hostname+":8081/index"};return e}angular.module("urlShortener").factory("UrlService",a),a.$inject=["$http"]}(),function(){function a(a,b,c){function d(){return console.log(f.urlKey),e(f.urlKey).then(function(){})}function e(b){return a.getLongURL(b).then(function(a){"undefined"!=typeof a[0]?c.location.href=a[0].longURL:c.location.href="/index"})}var f=this;f.urlKey=b.urlKey,console.log(f.urlKey),f.getLongURL=e,d()}angular.module("urlShortener").controller("RedirectController",a),a.$inject=["UrlService","$routeParams","$window"]}();